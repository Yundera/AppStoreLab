name: wordpress

services:
  wordpress:
    image: wordpress:6.7-apache
    container_name: wordpress_app
    restart: unless-stopped
    user: 0:0
    expose:
      - 80
    volumes:
      - /DATA/AppData/$AppID/html:/var/www/html
    environment:
      PUID: $PUID
      PGID: $PGID
      WORDPRESS_DB_HOST: db:3306
      WORDPRESS_DB_USER: wordpress
      WORDPRESS_DB_PASSWORD: $default_pwd
      WORDPRESS_DB_NAME: wordpress
      APACHE_HTTP_PORT_NUMBER: 80
      APACHE_HTTPS_PORT_NUMBER: 443
      WORDPRESS_CONFIG_EXTRA: |
        /* Force HTTPS Detection for NSL Router */
        if (isset($$_SERVER['HTTP_X_FORWARDED_PROTO']) && $$_SERVER['HTTP_X_FORWARDED_PROTO'] === 'https') {
            $$_SERVER['HTTPS'] = 'on';
        }
        
        /* Always set HTTPS for NSL Router environment */
        $$_SERVER['HTTPS'] = 'on';
        
        /* Dynamic Site URLs with HTTPS */
        define('WP_HOME', 'https://' . getenv('DOMAIN'));
        define('WP_SITEURL', 'https://' . getenv('DOMAIN'));
        
        /* Force SSL for Admin Panel */
        define('FORCE_SSL_ADMIN', true);
        
        /* File System Method for Updates */
        define('FS_METHOD', 'direct');
        
        /* Memory Limit */
        define('WP_MEMORY_LIMIT', '256M');
        
        /* Allow file editing from dashboard */
        define('DISALLOW_FILE_EDIT', false);
      DOMAIN: wordpress-$domain
    depends_on:
      db:
        condition: service_healthy
    deploy:
      resources:
        limits:
          memory: 1G

  db:
    image: mariadb:10.11
    container_name: wordpress_db
    restart: unless-stopped
    user: 0:0
    volumes:
      - /DATA/AppData/$AppID/db:/var/lib/mysql
    environment:
      MYSQL_ROOT_PASSWORD: $default_pwd
      MYSQL_DATABASE: wordpress
      MYSQL_USER: wordpress
      MYSQL_PASSWORD: $default_pwd
      MARIADB_AUTO_UPGRADE: 1
      MARIADB_DISABLE_UPGRADE_BACKUP: 1
    healthcheck:
      test: ["CMD", "healthcheck.sh", "--connect", "--innodb_initialized"]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 30s
    deploy:
      resources:
        limits:
          memory: 1G

x-casaos:
  architectures:
    - amd64
    - arm64
  author: CasaOS Team
  category: Web
  developer: WordPress Foundation
  icon: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/Wordpress/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/Wordpress/screenshot-1.png
    - https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/Wordpress/screenshot-2.png
    - https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/Wordpress/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/Wordpress/thumbnail.png
  index: /
  tagline:
    en_us: Create beautiful websites with ease
    zh_cn: è½»æ¾åˆ›å»ºç²¾ç¾ç½‘ç«™
    ko_kr: ì•„ë¦„ë‹¤ìš´ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì†ì‰½ê²Œ ë§Œë“¤ê¸°
    fr_fr: CrÃ©ez facilement de beaux sites web
    es_es: Crea hermosos sitios web con facilidad
  title:
    en_us: WordPress
  store_app_id: wordpress
  main: wordpress
  webui_port: 80
  pre-install-cmd: |
    mkdir -p /DATA/AppData/$AppID/html /DATA/AppData/$AppID/db &&
    chown -R $PUID:$PGID /DATA/AppData/$AppID/html &&
    chown -R $PUID:$PGID /DATA/AppData/$AppID/db &&
    chmod -R 755 /DATA/AppData/$AppID
  description:
    en_us: |
      **The world's #1 website builder - from blogs to online stores**
      
      WordPress powers 43% of all websites on the internet. Whether you're starting a personal blog, building a business website, or launching an online store, WordPress makes it simple with no coding required.
      
      **What you can do:**
      â€¢ Create beautiful websites with drag-and-drop blocks
      â€¢ Choose from 10,000+ free themes to match your style
      â€¢ Add features instantly with 60,000+ plugins (contact forms, SEO, social media, shops)
      â€¢ Sell products with built-in e-commerce tools
      â€¢ Write blog posts with a powerful editor
      â€¢ Upload unlimited photos and videos
      
      **Perfect for:** Bloggers, small businesses, photographers, restaurants, online stores, portfolios, and anyone who wants a professional website without the complexity.
    ko_kr: |
      **ì„¸ê³„ 1ìœ„ ì›¹ì‚¬ì´íŠ¸ ë¹Œë” - ë¸”ë¡œê·¸ë¶€í„° ì˜¨ë¼ì¸ ìŠ¤í† ì–´ê¹Œì§€**
      
      WordPressëŠ” ì¸í„°ë„· ì „ì²´ ì›¹ì‚¬ì´íŠ¸ì˜ 43%ë¥¼ êµ¬ë™í•©ë‹ˆë‹¤. ê°œì¸ ë¸”ë¡œê·¸, ë¹„ì¦ˆë‹ˆìŠ¤ ì›¹ì‚¬ì´íŠ¸, ì˜¨ë¼ì¸ ìŠ¤í† ì–´ ë“± ì½”ë”© ì—†ì´ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      
      **í•  ìˆ˜ ìˆëŠ” ê²ƒ:**
      â€¢ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë¸”ë¡ìœ¼ë¡œ ì•„ë¦„ë‹¤ìš´ ì›¹ì‚¬ì´íŠ¸ ì œì‘
      â€¢ 10,000ê°œ ì´ìƒì˜ ë¬´ë£Œ í…Œë§ˆ ì¤‘ ì„ íƒ
      â€¢ 60,000ê°œ ì´ìƒì˜ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì¦‰ì‹œ ê¸°ëŠ¥ ì¶”ê°€ (ë¬¸ì˜ ì–‘ì‹, SEO, ì†Œì…œ ë¯¸ë””ì–´, ì‡¼í•‘ëª°)
      â€¢ ë‚´ì¥ëœ ì „ììƒê±°ë˜ ë„êµ¬ë¡œ ì œí’ˆ íŒë§¤
      â€¢ ê°•ë ¥í•œ í¸ì§‘ê¸°ë¡œ ë¸”ë¡œê·¸ ê¸€ ì‘ì„±
      â€¢ ë¬´ì œí•œ ì‚¬ì§„ê³¼ ë¹„ë””ì˜¤ ì—…ë¡œë“œ
      
      **ì´ëŸ° ë¶„ê»˜ ì™„ë²½í•´ìš”:** ë¸”ë¡œê±°, ì†Œìƒê³µì¸, ì‚¬ì§„ì‘ê°€, ë ˆìŠ¤í† ë‘, ì˜¨ë¼ì¸ ìŠ¤í† ì–´, í¬íŠ¸í´ë¦¬ì˜¤, ë³µì¡í•¨ ì—†ì´ ì „ë¬¸ì ì¸ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì›í•˜ëŠ” ëª¨ë“  ë¶„.
    zh_cn: |
      **ä¸–ç•Œç¬¬ä¸€çš„ç½‘ç«™æ„å»ºå™¨ - ä»åšå®¢åˆ°åœ¨çº¿å•†åº—**
      
      WordPress ä¸ºäº’è”ç½‘ä¸Š 43% çš„ç½‘ç«™æä¾›æ”¯æŒã€‚æ— è®ºæ‚¨æ˜¯å¼€å§‹ä¸ªäººåšå®¢ã€å»ºç«‹å•†ä¸šç½‘ç«™è¿˜æ˜¯å¼€è®¾åœ¨çº¿å•†åº—ï¼ŒWordPress éƒ½èƒ½è®©ä¸€åˆ‡å˜å¾—ç®€å•ï¼Œæ— éœ€ç¼–ç ã€‚
      
      **æ‚¨å¯ä»¥åšçš„äº‹:**
      â€¢ ä½¿ç”¨æ‹–æ”¾å—åˆ›å»ºæ¼‚äº®çš„ç½‘ç«™
      â€¢ ä» 10,000+ å…è´¹ä¸»é¢˜ä¸­é€‰æ‹©ç¬¦åˆæ‚¨é£æ ¼çš„
      â€¢ ä½¿ç”¨ 60,000+ æ’ä»¶å³æ—¶æ·»åŠ åŠŸèƒ½ï¼ˆè”ç³»è¡¨å•ã€SEOã€ç¤¾äº¤åª’ä½“ã€å•†åº—ï¼‰
      â€¢ ä½¿ç”¨å†…ç½®ç”µå­å•†åŠ¡å·¥å…·é”€å”®äº§å“
      â€¢ ä½¿ç”¨å¼ºå¤§çš„ç¼–è¾‘å™¨æ’°å†™åšå®¢æ–‡ç« 
      â€¢ ä¸Šä¼ æ— é™ç…§ç‰‡å’Œè§†é¢‘
      
      **å®Œç¾é€‚åˆ:** åšä¸»ã€å°ä¼ä¸šã€æ‘„å½±å¸ˆã€é¤å…ã€åœ¨çº¿å•†åº—ã€ä½œå“é›†ï¼Œä»¥åŠä»»ä½•æƒ³è¦ä¸“ä¸šç½‘ç«™è€Œä¸éœ€è¦å¤æ‚æ€§çš„äººã€‚
    es_es: |
      **El constructor de sitios web #1 del mundo - desde blogs hasta tiendas online**
      
      WordPress impulsa el 43% de todos los sitios web en Internet. Ya sea que estÃ©s comenzando un blog personal, construyendo un sitio web empresarial o lanzando una tienda online, WordPress lo hace simple sin necesidad de programar.
      
      **Lo que puedes hacer:**
      â€¢ Crear sitios web hermosos con bloques de arrastrar y soltar
      â€¢ Elegir entre mÃ¡s de 10,000 temas gratuitos para tu estilo
      â€¢ AÃ±adir funciones al instante con mÃ¡s de 60,000 plugins (formularios, SEO, redes sociales, tiendas)
      â€¢ Vender productos con herramientas de comercio electrÃ³nico integradas
      â€¢ Escribir entradas de blog con un editor potente
      â€¢ Subir fotos y videos ilimitados
      
      **Perfecto para:** Bloggers, pequeÃ±as empresas, fotÃ³grafos, restaurantes, tiendas online, portafolios y cualquiera que quiera un sitio web profesional sin complejidad.
    fr_fr: |
      **Le constructeur de sites web nÂ°1 mondial - des blogs aux boutiques en ligne**
      
      WordPress alimente 43% de tous les sites web sur Internet. Que vous lanciez un blog personnel, crÃ©iez un site d'entreprise ou ouvriez une boutique en ligne, WordPress rend tout simple sans codage requis.
      
      **Ce que vous pouvez faire:**
      â€¢ CrÃ©er de beaux sites avec des blocs glisser-dÃ©poser
      â€¢ Choisir parmi plus de 10 000 thÃ¨mes gratuits
      â€¢ Ajouter des fonctions instantanÃ©ment avec plus de 60 000 plugins (formulaires, SEO, rÃ©seaux sociaux, boutiques)
      â€¢ Vendre des produits avec des outils e-commerce intÃ©grÃ©s
      â€¢ Ã‰crire des articles de blog avec un Ã©diteur puissant
      â€¢ TÃ©lÃ©charger photos et vidÃ©os illimitÃ©es
      
      **Parfait pour:** Blogueurs, petites entreprises, photographes, restaurants, boutiques en ligne, portfolios et toute personne voulant un site professionnel sans complexitÃ©.
  tips:
    before_install:
      en_us: |
        **Quick Setup (5 minutes):**
        1. Open the app after installation
        2. Choose your language
        3. Fill in: Site Title, Username, Password, Email
        4. Click "Install WordPress"
        5. Done! Start building your website
        
        **Admin Panel Access:**
        ğŸ‘‰ **https://wordpress-$domain/wp-admin**
        
        Use this URL to access the WordPress admin dashboard where you can manage your site, create content, and customize your website.
        
        **First things to do:**
        â€¢ Pick a theme (Appearance â†’ Themes)
        â€¢ Create your first page or post
        â€¢ Install useful plugins like Yoast SEO or Contact Form 7
        
        The database is already configured automatically.
      ko_kr: |
        **ë¹ ë¥¸ ì„¤ì • (5ë¶„):**
        1. ì„¤ì¹˜ í›„ ì•± ì—´ê¸°
        2. ì–¸ì–´ ì„ íƒ
        3. ì…ë ¥: ì‚¬ì´íŠ¸ ì œëª©, ì‚¬ìš©ìëª…, ë¹„ë°€ë²ˆí˜¸, ì´ë©”ì¼
        4. "WordPress ì„¤ì¹˜" í´ë¦­
        5. ì™„ë£Œ! ì›¹ì‚¬ì´íŠ¸ ë§Œë“¤ê¸° ì‹œì‘
        
        **ê´€ë¦¬ì í˜ì´ì§€ ì ‘ì†:**
        ğŸ‘‰ **https://wordpress-$domain/wp-admin**
        
        ì´ URLë¡œ WordPress ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ì—¬ ì‚¬ì´íŠ¸ ê´€ë¦¬, ì½˜í…ì¸  ì‘ì„±, ì›¹ì‚¬ì´íŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        **ì²˜ìŒ í•  ì¼:**
        â€¢ í…Œë§ˆ ì„ íƒ (ì™¸ëª¨ â†’ í…Œë§ˆ)
        â€¢ ì²« í˜ì´ì§€ë‚˜ ê¸€ ì‘ì„±
        â€¢ Yoast SEOë‚˜ Contact Form 7 ê°™ì€ ìœ ìš©í•œ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
        
        ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ë¯¸ ìë™ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
      zh_cn: |
        **å¿«é€Ÿè®¾ç½®ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š**
        1. å®‰è£…åæ‰“å¼€åº”ç”¨
        2. é€‰æ‹©æ‚¨çš„è¯­è¨€
        3. å¡«å†™ï¼šç«™ç‚¹æ ‡é¢˜ã€ç”¨æˆ·åã€å¯†ç ã€ç”µå­é‚®ä»¶
        4. ç‚¹å‡»"å®‰è£… WordPress"
        5. å®Œæˆï¼å¼€å§‹å»ºç«‹æ‚¨çš„ç½‘ç«™
        
        **ç®¡ç†é¢æ¿è®¿é—®ï¼š**
        ğŸ‘‰ **https://wordpress-$domain/wp-admin**
        
        ä½¿ç”¨æ­¤ URL è®¿é—® WordPress ç®¡ç†ä»ªè¡¨æ¿ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç®¡ç†ç«™ç‚¹ã€åˆ›å»ºå†…å®¹å’Œè‡ªå®šä¹‰ç½‘ç«™ã€‚
        
        **é¦–å…ˆè¦åšçš„äº‹ï¼š**
        â€¢ é€‰æ‹©ä¸»é¢˜ï¼ˆå¤–è§‚ â†’ ä¸»é¢˜ï¼‰
        â€¢ åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªé¡µé¢æˆ–æ–‡ç« 
        â€¢ å®‰è£…æœ‰ç”¨çš„æ’ä»¶ï¼Œå¦‚ Yoast SEO æˆ– Contact Form 7
        
        æ•°æ®åº“å·²è‡ªåŠ¨é…ç½®ã€‚
      es_es: |
        **ConfiguraciÃ³n rÃ¡pida (5 minutos):**
        1. Abre la app despuÃ©s de la instalaciÃ³n
        2. Elige tu idioma
        3. Completa: TÃ­tulo del sitio, Usuario, ContraseÃ±a, Email
        4. Haz clic en "Instalar WordPress"
        5. Â¡Listo! Empieza a construir tu sitio
        
        **Acceso al Panel de AdministraciÃ³n:**
        ğŸ‘‰ **https://wordpress-$domain/wp-admin**
        
        Usa esta URL para acceder al panel de administraciÃ³n de WordPress donde puedes gestionar tu sitio, crear contenido y personalizar tu sitio web.
        
        **Primeras cosas por hacer:**
        â€¢ Elige un tema (Apariencia â†’ Temas)
        â€¢ Crea tu primera pÃ¡gina o entrada
        â€¢ Instala plugins Ãºtiles como Yoast SEO o Contact Form 7
        
        La base de datos ya estÃ¡ configurada automÃ¡ticamente.
      fr_fr: |
        **Configuration rapide (5 minutes):**
        1. Ouvrez l'app aprÃ¨s l'installation
        2. Choisissez votre langue
        3. Remplissez: Titre du site, Nom d'utilisateur, Mot de passe, Email
        4. Cliquez sur "Installer WordPress"
        5. TerminÃ©! Commencez Ã  construire votre site
        
        **AccÃ¨s au Panneau d'Administration:**
        ğŸ‘‰ **https://wordpress-$domain/wp-admin**
        
        Utilisez cette URL pour accÃ©der au tableau de bord d'administration WordPress oÃ¹ vous pouvez gÃ©rer votre site, crÃ©er du contenu et personnaliser votre site web.
        
        **PremiÃ¨res choses Ã  faire:**
        â€¢ Choisir un thÃ¨me (Apparence â†’ ThÃ¨mes)
        â€¢ CrÃ©er votre premiÃ¨re page ou article
        â€¢ Installer des plugins utiles comme Yoast SEO ou Contact Form 7
        
        La base de donnÃ©es est dÃ©jÃ  configurÃ©e automatiquement.