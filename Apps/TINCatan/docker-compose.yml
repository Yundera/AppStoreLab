name: tincatan
services:
  tincatan:
    image: maven:3.8-openjdk-8
    user: $PUID:$PGID
    deploy:
      resources:
        limits:
          memory: 1024M
          cpus: '1.0'
    expose:
      - 4567
    environment:
      PUID: $PUID
      PGID: $PGID
      TZ: $TZ
      MAVEN_OPTS: "-Xmx1024m"
    volumes:
      - /DATA/AppData/tincatan/app:/app
      - /DATA/AppData/tincatan/m2:/root/.m2
    working_dir: /app
    command: >
      sh -c "
      if [ ! -f /app/pom.xml ]; then
        echo 'Cloning TINC repository...';
        apt-get update && apt-get install -y git;
        git clone https://github.com/seansegal/tincisnotcatan.git /tmp/tinc;
        cp -r /tmp/tinc/* /app/;
      fi;
      echo 'Building with Maven...';
      mvn clean compile;
      echo 'Generating classpath...';
      mvn dependency:build-classpath -Dmdep.outputFile=.mvn-classpath;
      echo 'Starting TINC server...';
      java -cp \"target/classes:\$(cat .mvn-classpath)\" edu.brown.cs.catan.Main 4567
      "
    restart: unless-stopped

x-casaos:
  architectures:
    - amd64
    - arm64
    - arm
  main: tincatan
  webui_port: 4567
  category: Games
  author: CasaOS Team
  developer: Sean Segal & Contributors
  icon: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/TINCatan/icon.png
  screenshot_1: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/TINCatan/screenshot-1.png
  screenshot_2: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/TINCatan/screenshot-2.png
  screenshot_3: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/TINCatan/screenshot-3.png
  thumbnail: https://cdn.jsdelivr.net/gh/Yundera/AppStoreLab@main/Apps/TINCatan/thumbnail.png
  pre-install-cmd: |
    mkdir -p /DATA/AppData/tincatan/app &&
    mkdir -p /DATA/AppData/tincatan/m2 &&
    chown -R $PUID:$PGID /DATA/AppData/tincatan
  title:
    en_us: TINC - Settlers of Catan
  tagline:
    en_us: Web-based Settlers of Catan game with advanced features
    fr_fr: Jeu Colons de Catane en ligne avec fonctionnalitÃ©s avancÃ©es
    ko_kr: ê³ ê¸‰ ê¸°ëŠ¥ì´ í¬í•¨ëœ ì›¹ ê¸°ë°˜ ì¹´íƒ„ ê²Œì„
    zh_cn: å…·æœ‰é«˜çº§åŠŸèƒ½çš„åŸºäºç½‘ç»œçš„å¡å¦å²›æ¸¸æˆ
    es_es: Juego Colonos de CatÃ¡n basado en web con caracterÃ­sticas avanzadas
  description:
    en_us: |
      TINC (This Is Not Catan) is a full-featured web implementation of Settlers of Catan.
      Play directly in your browser with no downloads required!
      
      Features:
      - ğŸŒ 100% browser-based gameplay
      - ğŸ‘¥ 2-4 player multiplayer support
      - ğŸ® Complete Catan game mechanics
      - ğŸ’° Advanced economic features (optional)
      - ğŸ“± Mobile-friendly interface
      - ğŸ¯ AI bots for practice games
      - âš¡ Real-time gameplay with WebSockets
      
      Game Modes:
      - Standard Catan (10 victory points)
      - Custom victory point goals
      - Advanced economy with decimal resources
      - Dynamic exchange rates
    fr_fr: |
      TINC (This Is Not Catan) est une implÃ©mentation web complÃ¨te de Colons de Catane.
      Jouez directement dans votre navigateur sans tÃ©lÃ©chargement!
      
      CaractÃ©ristiques:
      - Gameplay 100% basÃ© sur navigateur
      - Support multijoueur 2-4 joueurs
      - MÃ©caniques de jeu Catan complÃ¨tes
      - FonctionnalitÃ©s Ã©conomiques avancÃ©es (optionnel)
    ko_kr: |
      TINC (This Is Not Catan)ëŠ” ì¹´íƒ„ì˜ ì™„ì „í•œ ì›¹ êµ¬í˜„ì…ë‹ˆë‹¤.
      ë‹¤ìš´ë¡œë“œ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í”Œë ˆì´í•˜ì„¸ìš”!
      
      íŠ¹ì§•:
      - 100% ë¸Œë¼ìš°ì € ê¸°ë°˜ ê²Œì„í”Œë ˆì´
      - 2-4ëª… ë©€í‹°í”Œë ˆì´ì–´ ì§€ì›
      - ì™„ì „í•œ ì¹´íƒ„ ê²Œì„ ë©”ì»¤ë‹ˆì¦˜
      - ê³ ê¸‰ ê²½ì œ ê¸°ëŠ¥ (ì„ íƒ ì‚¬í•­)
      - ëª¨ë°”ì¼ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
    zh_cn: |
      TINCï¼ˆThis Is Not Catanï¼‰æ˜¯å¡å¦å²›çš„å®Œæ•´ç½‘ç»œå®ç°ã€‚
      æ— éœ€ä¸‹è½½ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ¸¸æˆï¼
      
      ç‰¹ç‚¹ï¼š
      - 100%åŸºäºæµè§ˆå™¨çš„æ¸¸æˆ
      - 2-4äººå¤šäººæ¸¸æˆæ”¯æŒ
      - å®Œæ•´çš„å¡å¦æ¸¸æˆæœºåˆ¶
      - é«˜çº§ç»æµåŠŸèƒ½ï¼ˆå¯é€‰ï¼‰
    es_es: |
      TINC (This Is Not Catan) es una implementaciÃ³n web completa de Colonos de CatÃ¡n.
      Â¡Juega directamente en tu navegador sin descargas!
      
      CaracterÃ­sticas:
      - Juego 100% basado en navegador
      - Soporte multijugador para 2-4 jugadores
      - MecÃ¡nicas completas del juego CatÃ¡n
      - CaracterÃ­sticas econÃ³micas avanzadas (opcional)
  tips:
    before_install:
      en_us: |
        ## ğŸ® How to Access
        
        Open your browser and navigate to:
        - **Clean URL**: `https://4567-tincatan-[username].nsl.sh/`
        - **Local Access**: `http://[server-ip]:4567/`
        
        ## âš ï¸ First Run Setup
        
        **IMPORTANT**: The first run will take 5-10 minutes to:
        1. Download the source code
        2. Download Maven dependencies
        3. Compile the Java project
        4. Start the server
        
        Subsequent starts will be much faster (under 1 minute).
        
        ## ğŸš€ Quick Start Guide
        
        1. **Enter Username**: Type your name on the home screen
        2. **Create or Join**: 
           - Click "Create Game" for a new room
           - Click "Join Game" to enter an existing room
        3. **Game Setup**:
           - Choose number of players (2-4)
           - Select victory points (default: 10)
           - Optional: Enable advanced economic features
        4. **Start Playing**: Game begins when all players are ready
        
        ## ğŸ¯ Game Features
        
        ### Standard Game
        - Classic Settlers of Catan rules
        - Build settlements, cities, and roads
        - Trade resources with players and bank
        - Development cards (Knight, Victory Point, etc.)
        - Longest Road and Largest Army bonuses
        - Robber mechanics on rolling 7
        
        ### Advanced Economic Mode
        - Decimal resource values
        - Dynamic exchange rates
        - Market-based trading
        - Enhanced strategic depth
        
        ## ğŸ“± Device Support
        
        - **Desktop**: Chrome, Firefox, Safari, Edge
        - **Mobile**: iOS Safari, Chrome Mobile
        - **Tablet**: Full touch support
        
        ## ğŸ”§ Troubleshooting
        
        If you see Maven errors:
        1. Wait for the full build to complete (5-10 minutes first time)
        2. Check logs: `docker logs tincatan-tincatan-1`
        3. If build fails, try restarting: `docker-compose restart`
        4. Maven dependencies are cached in `/DATA/AppData/tincatan/m2`
        
        ## ğŸ’¡ Pro Tips
        
        - First run is slow due to Maven downloads - be patient!
        - Dependencies are cached, so restarts are fast
        - Use Chrome for best performance
        - The game saves state between sessions
      fr_fr: |
        AccÃ©dez au jeu: `https://4567-tincatan-[username].nsl.sh/`
        Premier dÃ©marrage: 5-10 minutes pour compiler avec Maven.
      ko_kr: |
        ê²Œì„ ì ‘ì†: `https://4567-tincatan-[username].nsl.sh/`
        ì²« ì‹¤í–‰: Maven ì»´íŒŒì¼ì— 5-10ë¶„ ì†Œìš”.
      zh_cn: |
        è®¿é—®æ¸¸æˆï¼š`https://4567-tincatan-[username].nsl.sh/`
        é¦–æ¬¡è¿è¡Œï¼šMavenç¼–è¯‘éœ€è¦5-10åˆ†é’Ÿã€‚
      es_es: |
        Accede al juego: `https://4567-tincatan-[username].nsl.sh/`
        Primera ejecuciÃ³n: 5-10 minutos para compilar con Maven.
  index: /home